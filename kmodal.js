!function(y){MODAL_CLOSE_BTN="close-btn",MODAL_ADD_CLOSE_BTN="add-close-btn",MODAL_IMAGE_CLASS="k-image-modal",MODAL_IMAGE_CONTAINER_CLASS="k-image-container",MODAL_AJAX_CLASS="k-ajax-modal",MODAL_AJAX_CONTAINER_CLASS="k-ajax-container",MODAL_EMBED_CLASS="k-embed-modal",MODAL_EMBED_CONTAINER_CLASS="k-embed-container",MODAL_APPENDED_CLASS="k-appended";var m=["fadeIn","flipX","flipY","zoom","fadeInUp","fadeInDown","fadeInLeft","fadeInRight"],E=["fancy-blue","dark-black","yellow-lime","yellow-freedom"],s=y("body"),A=!1;y.kModal=function(e,l){var d=this;l.onReadyOpen&&d.open(l),window.location.hash==l.hash&&d.open(l),e.click(function(e){var o=y(this),a=o.attr("href"),t=o.attr("k-animation"),s=o.attr("k-style"),n=o.attr("k-role"),i=d.defineEmbedType(o);e.preventDefault(),d.open(l,a,i,t,s,n)})},y.kModal.prototype={constructor:y.kModal,open:function(e,o,a,t,s,n){var i=y.extend({modalClass:".k-modal",type:"simple",href:!1,animation:!1,style:!1,role:"standard",delay:0,showClose:!0,addCloseBtn:!1,closeBtnText:"Close",disableClose:!1,hash:!1,autoclose:!1,autoplay:!0,autofocus:!1,storeCookie:!1,setCookieType:!1,cookieName:!1,cookieValue:!1,cookieExpires:"session"},e),l=i.modalClass,d=".k-container",r=i.type,c=i.delay,m=i.showClose,A=i.addCloseBtn,u=i.closeBtnText,C=i.disableClose,_=i.hash,h=i.autoclose,f=i.autoplay,p=i.autofocus,L=i.storeCookie,k=i.setCookieType,M=i.cookieName,D=i.cookieValue,S=i.cookieExpires;o=i.href?i.href:o,a=i.embedType?i.embedType:a,t=i.animation?i.animation:t,s=i.style?i.style:s,n=i.role?i.role:n,"embed"==r&&(l="."+MODAL_EMBED_CLASS,d="."+MODAL_EMBED_CONTAINER_CLASS),"ajax"==r&&(l="."+MODAL_AJAX_CLASS,d="."+MODAL_AJAX_CONTAINER_CLASS),"image"==r&&(l="."+MODAL_IMAGE_CLASS,d="."+MODAL_IMAGE_CONTAINER_CLASS),-1===jQuery.inArray(s,E)&&(s="default");var v=this,O=v.getCookie(M);(0==L||1==L&&O!=D)&&setTimeout(function(){v.setStyle(l,s),v.types(l,r,o,a,f,p),v.animations(l,d,t),_&&v.hashModal(_),n&&v.setRole(l,n),1==m&&0==C&&v.closeBtn(l,d),0==C&&v.close(_,l,d,t,L,k,M,D,S),1==A&&v.addCloseBtn(l,d,u),1==C&&1==A&&v.closeWithButton(_,l,d,t,L,k,M,D,S),h&&v.closeAction(_,l,d,t,h,L,k,M,D,S),1==L&&"on-open"==k&&v.setCookie(M,D,S)},c)},closeAction:function(o,a,t,s,e,n,i,l,d,r){var c=this;style=y(a).attr("k-style"),setTimeout(function(){var e;y(a).removeClass("openedModal"),y(a).removeClass(style),y(a).attr("k-style",""),y(t).removeClass(s),y("."+MODAL_CLOSE_BTN).remove(),y("."+MODAL_ADD_CLOSE_BTN).remove(),o&&(e=window.location.origin+window.location.pathname,history.pushState("hash","hash",e)),A&&(y("."+MODAL_APPENDED_CLASS).remove(),A=!1),-1!==jQuery.inArray(s,m)?y(t).removeClass(s):y(a).removeClass(s),1==n&&"on-close"==i&&c.setCookie(l,d,r)},e)},close:function(a,t,s,n,i,l,d,r,c){var m=this;y(t).click(function(e){var o=y(e.target);(o.hasClass(MODAL_CLOSE_BTN)||o.hasClass(MODAL_ADD_CLOSE_BTN)||o.is(t))&&m.closeAction(a,t,s,n,0,i,l,d,r,c)})},closeWithButton:function(o,a,t,s,n,i,l,d,r){var c=this;y(a).click(function(e){y(e.target).hasClass(MODAL_ADD_CLOSE_BTN)&&c.closeAction(o,a,t,s,0,n,i,l,d,r)})},setStyle:function(e,o){"default"!=o&&(y(e).attr("k-style","k-"+o),y(e).addClass("k-"+o))},setRole:function(e,o){y(e).addClass("k-"+o)},types:function(e,o,a,t,s,n){switch(o){case"embed":this.embedModal(a,t,s);break;case"form":this.formModal(e,n);break;case"ajax":this.ajaxModal(a);break;case"image":this.imageModal(a)}},animations:function(e,o,a){-1!==jQuery.inArray(a,m)?(y(e).addClass("openedModal"),y(o).addClass(a)):y(e).addClass("openedModal").addClass(a)},defineEmbedType:function(e){return e.hasClass("k-youtube")?"youtube":e.hasClass("k-vimeo")?"vimeo":e.hasClass("k-googlemaps")?"googlemaps":void 0},embedModal:function(e,o,a){switch(o){case"youtube":var t='<iframe src="https://www.youtube.com/embed/'+e.match(/(?:https?:\/{2})?(?:w{3}\.)?youtu(?:be)?\.(?:com|be)(?:\/watch\?v=|\/)([^\s&]+)/)[1]+"?wmode=transparent"+(a=a?"&autoplay=1":"")+'" frameborder="0" allowfullscreen wmode="Opaque"></iframe>';break;case"vimeo":t='<iframe src="https://player.vimeo.com/video/'+e.match(/(?:vimeo)\.com.*(?:videos|video|channels|)\/([\d]+)/i)[1]+"?"+(a=a?"&autoplay=true":"")+'" width="640" height="360" frameborder="0" allowfullscreen></iframe>';break;case"googlemaps":t='<iframe frameborder="0" style="border:0" src="'+("https://maps.google.com/maps?&amp;q="+encodeURIComponent(e)+"&amp;output=embed")+'"></iframe>'}s.append('<div class="k-modal '+MODAL_APPENDED_CLASS+" "+MODAL_EMBED_CLASS+'"><div class="'+MODAL_EMBED_CONTAINER_CLASS+'">'+t+"</div></div>"),A=!0},formModal:function(e,o){y(e).addClass("k-form-modal"),o&&setTimeout(function(){y(".k-form-modal form input").length?y(".k-form-modal form input:first").focus():y(".k-form-modal form textarea").length&&y(".k-form-modal form textarea").focus()},100)},hashModal:function(e){history.pushState("hash","hash",e)},ajaxModal:function(e){s.append('<div class="k-modal '+MODAL_APPENDED_CLASS+" "+MODAL_AJAX_CLASS+'"><div class="'+MODAL_AJAX_CONTAINER_CLASS+'"></div></div>'),y.get(e,function(e){y("."+MODAL_AJAX_CONTAINER_CLASS).html(e),A=!0})},imageModal:function(e){s.append('<div class="k-modal '+MODAL_APPENDED_CLASS+" "+MODAL_IMAGE_CLASS+'"><div class="'+MODAL_IMAGE_CONTAINER_CLASS+'"><img src="'+e+'"></div></div>'),A=!0},closeBtn:function(e){y(e).append('<div class="'+MODAL_CLOSE_BTN+'">'+o+"</div>")},addCloseBtn:function(e,o,a){y(o).append('<div class="'+MODAL_ADD_CLOSE_BTN+'">'+a+"</div>")},setCookie:function(e,o,a){var t;"session"==a&&(a=""),a&&((t=new Date).setTime(t.getTime()+24*a*60*60*1e3),a="; expires="+t.toUTCString()),document.cookie=e+"="+(o||"")+a+"; path=/"},getCookie:function(e){for(var o=e+"=",a=document.cookie.split(";"),t=0;t<a.length;t++){for(var s=a[t];" "==s.charAt(0);)s=s.substring(1,s.length);if(0==s.indexOf(o))return s.substring(o.length,s.length)}return null}},y.fn.kModal=function(e){return 1<=this.length&&new y.kModal(this,e),this};var o='<?xml version="1.0" encoding="iso-8859-1"?><svg version="1.1" id="Capa_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" width="612px" height="612px" viewBox="0 0 612 612" style="enable-background:new 0 0 612 612;" xml:space="preserve"><polygon points="612,36.004 576.521,0.603 306,270.608 35.478,0.603 0,36.004 270.522,306.011 0,575.997 35.478,611.397 306,341.411 576.521,611.397 612,575.997 341.459,306.011"/></svg>'}(jQuery);